Summary:	Yet Another Telephony Engine
Name:     	yate
Version: 	@PACKAGE_VERSION@
Release:	1
Copyright:	GPL
Packager:	Paul Chitescu <paulc-devel@null.ro>
Source:		http://yate.null.ro/%{name}-%{version}.tar.gz
Group:		Applications/Communications
BuildRoot:	%{_tmppath}/%{name}-%{version}-root
URL:		http://yate.null.ro/

BuildRequires:	gcc-c++
Group:		System Environment/Libraries

%define prefix  /usr

%description
YATE is a telephony engine designed to implement PBX and IVR solutions
for small to large scale projects.

%files
%defattr(-, root, root)
%doc /usr/share/doc/yate-%{version}/README
%doc /usr/share/doc/yate-%{version}/COPYING
%doc /usr/share/doc/yate-%{version}/ChangeLog
%config /etc/yate/*
/usr/lib/lib*.so*
/usr/bin/yate
/usr/share/man/*
/usr/lib/yate/*

%post
ldconfig

%postun
ldconfig

%package devel
Summary:	Development package for yate
Group:		Development/Libraries
Requires:	%{name} = %{version}

%description devel
The yate-devel package includes the libraries and header files for YATE

%files devel
%defattr(-, root, root)
%doc /usr/share/doc/yate-%{version}/*.html
%doc /usr/share/doc/yate-%{version}/api/*
/usr/include/*
/usr/bin/yate-config
/usr/lib/pkgconfig/yate.pc

%prep
%setup -q -n %{name}

%build
./configure --prefix=%{prefix} --sysconfdir=/etc --mandir=%{prefix}/share/man
make strip

%install
make install DESTDIR=%{buildroot}

%clean
# make clean
rm -rf %{buildroot}

%changelog
* Mon Nov 01 2004 Diana Cionoiu <diana@diana.null.ro>
- Fixed a serious memory leak in threads

* Sun Oct 31 2004 Paul Chitescu <paulc-devel@null.ro>
- Added supervised running and periodic restart
- Fixed lots of locking bugs

* Wed Sep 29 2004 Paul Chitescu <paulc-devel@null.ro>
- Bumped version to 0.8.4
- Added timestamps to all data channels
- Added separate oRTP based RTP channel
- H.323 can optionally use the RTP channel
- RTTI support is configurable - defaults like pwlib which should be ok

* Sat Sep 11 2004 Paul Chitescu <paulc-devel@null.ro>
- Added printf-style parameter/format checks for gcc
- Filter for kdoc to parse trough said checks which it doesn't understand

* Mon Sep 06 2004 Paul Chitescu <paulc-devel@null.ro>
- Created a contrib directory to hold libiax2 fork
- Build system uses the included static libiax2 by default
- Yate can write its main thread PID to a file

* Mon Sep 06 2004 Diana Cionoiu <diana@diana.null.ro>
- Added a fork of libiax2 modified for server usage
- Many features added in the IAX channel

* Sat Jun 26 2004 Paul Chitescu <paulc-devel@null.ro>
- Version 0.8.3
- Minor fixes in tone generator and external module

* Sat Jun 26 2004 Diana Cionoiu <diana@diana.null.ro>
- Added an OSS local sound channel

* Sat May 15 2004 Paul Chitescu <paulc-devel@null.ro>
- Added pkgconfig support
- Improved detection of Postgress' include file path
- Support for detecting libraries required for SIP
- Better detection of OpenH323 versions

* Sat May 15 2004 Diana Cionoiu <diana@diana.null.ro>
- Added SIP channel and registration module

* Sun Apr 04 2004 Paul Chitescu <paulc-devel@null.ro>
- Added yate-config to the devel package

* Mon Mar 29 2004 Paul Chitescu <paulc-devel@null.ro>
- Created specfile
