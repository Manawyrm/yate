# Makefile
# This file holds the make rules for the Telephony Engine modules

# override DESTDIR at install time to prefix the install directory
DESTDIR :=

# override DEBUG at compile time to enable full debug or remove it all
DEBUG :=

SUBDIRS := gtk2
MKDEPS  := ../../config.status

basedir = @libdir@/yate
prefix = @prefix@
exec_prefix = @exec_prefix@
moddir = $(basedir)/modules
helpdir = $(moddir)/help

.PHONY: all clean install uninstall
all clean:

install:
	@lst="`cd @srcdir@; ls -1 -d *.yhlp`" ; \
	mkdir -p "$(DESTDIR)$(helpdir)/" && \
	for i in $$lst ; do \
	    install -D -m 0644 "@srcdir@/$$i" "$(DESTDIR)$(helpdir)/$$i" ; \
	done;

uninstall:
	@-rm "$(DESTDIR)$(helpdir)/"*.yhlp
	@-rmdir "$(DESTDIR)$(helpdir)"
	@-rmdir "$(DESTDIR)$(moddir)"
	@-rmdir "$(DESTDIR)$(basedir)"

Makefile: @srcdir@/Makefile.in $(MKDEPS)
	cd ../.. && ./config.status
