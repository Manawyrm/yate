# Makefile
# This file holds the make rules for the Telephony Engine script files

# override DESTDIR at install time to prefix the install directory
DESTDIR :=

SCRIPTS := leavemail.php voicemail.php route.php
SCRLIBS := libyate.php libyatechan.php libvoicemail.php libyate.py Yate.pm

basedir = @libdir@/yate
prefix = @prefix@
exec_prefix = @exec_prefix@
scrdir = $(basedir)/scripts

# include optional local make rules
-include YateLocal.mak

.PHONY: all
all:

.PHONY: install
install:
	@mkdir -p "$(DESTDIR)$(scrdir)/" && \
	install -m 0644 $(SCRLIBS) "$(DESTDIR)$(scrdir)/" && \
	test -z "$(SCRIPTS)" || \
	install $(SCRIPTS) "$(DESTDIR)$(scrdir)/"

.PHONY: uninstall
uninstall:
	@-for i in $(SCRIPTS) $(SCRLIBS) ; do \
	    rm "$(DESTDIR)$(scrdir)/$$i" ; \
	done;
	@-rmdir "$(DESTDIR)$(scrdir)"
	@-rmdir "$(DESTDIR)$(basedir)"

Makefile: @srcdir@/Makefile.in ../config.status
	cd .. && ./config.status
